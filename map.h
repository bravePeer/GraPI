#pragma once
#include <iostream>
#include <string>
#include "point.h"
#include "something.h"
#include "person.h"
#include "mob.h"

using namespace std;

class Map
{
public:
	Map();
	~Map();
	void ShowMap(Point& playerPos);
	void ShowMap( );

	int IsFight(Point& playerPos);
	void KillMob(int pos);

	//int LoadMap(int id, Point& point);
	//int ShowPlace(Point& position);
	virtual int LoadVMap(Point& position);

	string map[41] = { "" };
	string buf = "";
	Point mapSize = Point(10, 10);
	Point lastPlayerPos;
	Point nextMap = { 0,0 };
	Point prevMap = { 0,0 };
	int mapID = -1;

	/*Trzyma NPC i moby*/
	vector<Mob*> mobs;
	vector<Person*> people;

	bool CanMove(Point& point);
	bool MoveToHome(int x,int y);
	bool IsNextMap(Point& point);
	bool IsPrevMap(Point& point);
	void GenerateMobs(int level);
private:

};

class MapHome : public Map
{
	int LoadVMap(Point& position);
	int mapID = 0;
};

class Map1 : public Map
{
	int LoadVMap(Point& position)
	{
		map[0] = "----------------------------------------------------------------------------------------------------------";
		map[1] = ".H....S........N..........................................................................................";
		map[2] = "...____...................................................................................................";
		map[3] = "..+----+..................................................................................................";
		map[4] = "..|....|..................................................................................................";
		map[5] = "..........................................................................................................";
		map[6] = "..........................................................................................................";
		map[7] = "....._______....N.........................................................................................";
		map[8] = "..............|...........................................................................................";
		map[9] = "..............|...........................................................................................";
		map[10] = "....N.....S...|...........................................................................................";
		map[11] = "..........................................................................................................";
		map[12] = "..........................................................................................................";
		map[13] = "..........................................................................................................";
		map[14] = "..........................................................................................................";
		map[15] = "..........................................................................................................";
		map[16] = "..........................................................................................................";
		map[17] = "..........................................................................................................";
		map[18] = ".................................................................................................___......";
		map[19] = "................................................................................................|[o]|.....";
		map[20] = "...............................................................................................|||||||....";
		map[21] = "..............................................................................................|       |...";
		map[22] = ".............................................................................................|         |..";
		map[23] = "............................................................................................|           |.";
		map[24] = "...........................................................................................|             |";
		map[25] = "..........................................................................................|               ";
		map[26] = ".........................................................................................|                ";
		map[27] = "........................................................................................|                 ";
		map[28] = ".......................................................................................|                  ";
		map[29] = "......................................................................................|                   ";
		map[30] = ".....................................................................................|                    ";
		map[31] = "....................................................................................|                     ";
		map[32] = "...................................................................................|                      ";
		map[33] = "..................................................................................|                       ";
		map[34] = ".................................................................................|                        ";
		map[35] = "................................................................................|               ###       ";
		map[36] = "...............................................................................|_____           ###       ";
		map[37] = ".....................................................................................----______-###_______";
		map[38] = "..........................................................................................................";
		map[39] = "..........................................................................................................";
		map[40] = "................................................................................................_______---";
		mapSize = Point(106, 41);

		nextMap = { 105,39 };	//przejscie do nastepnej mapy
		prevMap = { 5,4 };		//powrot do poprzedniej mapy

		//warunki powrotu do poprzedniej mapy
		if (position.x == 61 && position.y == 19)
			position = { 5,5 };		//pozycja gracza
		else if (position.x == 2 && position.y == 39)
			position = { 104, 39 };


		return 1;
	}
	int mapID =  1;

};

class Map2 : public Map
{
	int LoadVMap(Point& position)
	{
		map[0] = "+--------------------------------------------------------------------------------------------------------+";
		map[1] = ".N.............................................|  ~    ~|.......................................@@@@...@@@";
		map[2] = "................N..............................|~    ~  |......................................@@@@@@...@@";
		map[3] = "...............................................|  ~    |........................................@@@@......";
		map[4] = "..............................................| ~    ~ |.........................................II..@@@@.";
		map[5] = ".............................................| ~   ~    |...........................................@@@@@@";
		map[6] = ".................S............................|  ~   ~ |.............................................@@@@.";
		map[7] = ".............................................| ~   ~    |.............................................II..";
		map[8] = "......S.....................................|~    ~  ~ |..................................................";
		map[9] = "..............N.............................|  ~   ~  ~|..................................................";
		map[10] = "...................H.........................|    ~   |...................................................";
		map[11] = "..............................................| ~    ~|...................................................";
		map[12] = "..............................................|~   ~   |..................................................";
		map[13] = "..............................................|  ~  ~ |...................................................";
		map[14] = ".............................................+---------+..................................................";
		map[15] = ".............................................============..Miniboss.......................................";
		map[16] = ".............................................+-----------+................................................";
		map[17] = "..............................................| ~     ~ |.................................................";
		map[18] = "...............................................|    ~    |................................................";
		map[19] = "................................................| ~  ~  ~ |...............................................";
		map[20] = "..................................................|   ~    |..............................................";
		map[21] = "....................................................|   ~   +.............................................";
		map[22] = ".....................................................| ~   ~ -___.........................................";
		map[23] = ".......................................................| ~   ~   |........................................";
		map[24] = ".........................................................|  ~  ~  |................................_______";
		map[25] = "|.........................................................|  ~  ~  |...........___________---------       ";
		map[26] = " |.........................................................|     ~  +---------- ~         ~       ~     ~ ";
		map[27] = "  |.........................................................+  ~  ~        ~        ~        ~       ~    ";
		map[28] = "   |.........................................................-______    ~      ~        ~      ~  ________";
		map[29] = "    |...............................................................______      ~    ____________-........";
		map[30] = "     |....................................................................._________......................";
		map[31] = "      |...................................................................................................";
		map[32] = "       |..................................................................................................";
		map[33] = "        |.................................................................................................";
		map[34] = "         |................................................................................................";
		map[35] = "          |...............................................................................................";
		map[36] = "          _|..............................................................................................";
		map[37] = "       __--...............................................................................................";
		map[38] = "-------...................................................................................................";
		map[39] = "..........................................................................................................";
		map[40] = "-------...................................................................................................";
		mapSize = Point(106, 41);

		position = { 3,39 };		//pozycja gracza
		nextMap = { 105,3 };		//przejscie do nastepnej mapy
		prevMap = { 2,39 };		//powrot do poprzedniej mapy
		return 2;
	}
	int mapID =2;

};

class Map3 : public Map
{
	int LoadVMap(Point& position)
	{
		map[0] = "+--------------------------------------------------------------------------------------------------------+";
		map[1] = "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[2] = "@@.@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[3] = "I....II@@@@..@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@";
		map[4] = "........II.@@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@";
		map[5] = ".........@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[6] = ".@@......@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@";
		map[7] = ".@@@.......@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@";
		map[8] = "@@@@@@@..@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[9] = ".@@@..@@@@...@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@";
		map[10] = ".@@@@..@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@";
		map[11] = "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[12] = ".@@@@..@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@";
		map[13] = ".@@@..@@@@...@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@";
		map[14] = "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[15] = ".@@@..@@@@...@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@";
		map[16] = ".@@@@..@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@";
		map[17] = "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[18] = ".@@@@..@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@";
		map[19] = ".@@@..@@@@...@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@";
		map[20] = "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[21] = ".@@@..@@@@...@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@";
		map[22] = ".@@@@..@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@";
		map[23] = "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[24] = ".@@@@..@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@";
		map[25] = ".@@@..@@@@...@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@";
		map[26] = "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[27] = ".@@@..@@@@...@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@";
		map[28] = ".@@@@..@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@";
		map[29] = "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[30] = ".@@@..@@@@...@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@";
		map[31] = ".@@@@..@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@";
		map[32] = "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[33] = ".@@@@..@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@";
		map[34] = ".@@@..@@@@...@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@";
		map[35] = "@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[36] = "@.@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.";
		map[37] = ".@@@@..@@@@II.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@@@.@@";
		map[38] = "@@@@@@@@@@@@(@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";
		map[39] = " @@@@  @@@@   @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@@@ @@";
		map[40] = "..II....II.....II...II...II...II...II...II...II...II...II...II...II...II...II...II...II...II...II...II...I";
		mapSize = Point(106, 41);

		position = { 4,3 };		//pozycja gracza
		//nextMap	= {x,y}		//przejscie do nastepnej mapy
		prevMap = { 3,3 };		//powrot do poprzedniej mapy
		return 3;
	}
	int mapID = 3;

};
